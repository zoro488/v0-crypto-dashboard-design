rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // ⚠️ REGLAS TEMPORALES DE DESARROLLO
    // TODO: Reemplazar con reglas seguras antes de producción
    // Fecha de expiración: 2025-11-26
    
    // Permitir lectura a todos los usuarios autenticados
    match /{collection}/{document=**} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    
    // PUERTA TRASERA TEMPORAL (SOLO DESARROLLO)
    // Remover en producción
    match /movimientos/{document=**} {
      allow read, write: if true;
    }
    
    match /dashboard_totales/{document=**} {
      allow read: if true;
    }
    
    match /dashboard_paneles/{document=**} {
      allow read: if true;
    }
    
    match /almacen_productos/{document=**} {
      allow read, write: if true;
    }
    
    match /almacen_entradas/{document=**} {
      allow read, write: if true;
    }
    
    match /almacen_salidas/{document=**} {
      allow read, write: if true;
    }
    
    match /ventas/{document=**} {
      allow read, write: if true;
    }
    
    match /clientes/{document=**} {
      allow read, write: if true;
    }
    
    match /distribuidores/{document=**} {
      allow read, write: if true;
    }
    
    match /ordenes_compra/{document=**} {
      allow read, write: if true;
    }
    
    match /cortes_bancarios/{document=**} {
      allow read, write: if true;
    }
  }
}
